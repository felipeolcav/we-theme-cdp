//
// Main navbar
// --------------------------------------------------

$header-main-bar-bottom:   4px;
$header-main-bar-color:    lighten($gray-light, 47%);
$header-main-height:       80px;
$header-main-logo-width:   180px;
$header-main-item-padding: 15px;

#header-main {
  outline: $header-main-bar-bottom solid $header-main-bar-color;
  background-color: $brand-white;
  height: $header-main-height;
  .header-main-brand {
    @include make-xs-column(2);
    @include make-sm-column(1);
    @include make-md-column(2);
    @include make-lg-column(2);
    height: $header-main-height;
    .app-main-logo {
      width: $header-main-logo-width + 4;
      height: $header-main-height;
      padding-top: $header-main-item-padding;
      position: relative;
      display: block;
      .logo-cdp {
        width: $header-main-logo-width;
        margin-top: -9px;
      }
    }
  }
  .bar-colored {
    background-image: url('../img/bar-colored.png');
    background-repeat: no-repeat;
    background-position: right;
    height: $header-main-bar-bottom;
    bottom: -$header-main-height;
    position: relative;
    right: ($grid-lg-gutter-width / 2);
  }
}

#menu-main {
  @include make-lg-column(8);
  .navbar-menu-item {
    height: $header-main-height + $header-main-bar-bottom;
    line-height: 40px + $header-main-item-padding;
    position: relative;
    display: block;
    text-align:left;
    margin: auto 10px;
    .cdp {
      width: 100%;
      height: 34px;
      font-size: 2.3em;
      margin: 0 auto;
      text-align: center;
      position: absolute;
      top: 20px;
      left: 0;
    }
    .text-menu {
      width: 100%;
      font-size: 0.75em;
      font-weight: 500;
      position: absolute;
      top: 50px;
      left: 0;
      margin: 0 auto;
      text-align: center;
    }
    &.item-reports {
      width: 62px;
      list-style: none;
      .cdp {
        font-size: 4.6em;
        top: 8px;
        color: $gray;
      }
      .text-menu {
        top: 50px;
        color: $gray;
      }
    }
    &.item-group {
      width: 69px;
    }
    &.item-services {
      width: 63px;
      list-style: none;
      .cdp {
        font-size: 4.6em;
        top: 8px;
        color: $gray;
      }
      .text-menu {
        top: 34px;
        color: $gray;
      }
    }
    &.item-course {
      width: 34px;
    }
    &.item-feed {
      width: 55px;
      margin: 0;
      top: 8px;
      .badge {
        background: $color-notification;
        position: relative;
        top: -56px;
        left: 22px;
        border-radius: 2px;
        padding: 3px 5px;
      }
      .cdp {
        margin-left: -10px;
      }
    }
    &.item-notifications {
      width: 55px;
      margin: 0;
      top: 8px;
      .badge {
        background: $color-notification;
        position: relative;
        top: -56px;
        left: 18px;
        border-radius: 2px;
        padding: 3px 5px;
      }
      .cdp {
        margin-left: -10px;
      }
    }
    &:hover,
    &.active {
      background: $brand-white;
      &.item-reports {
        .cdp {
          color: $color-people!important;
        }
        box-shadow: inset 0 -4px 0 $color-people;
        transition: all .25s ease-in-out;
      }
      &.item-feed {
        .cdp {
          color: $color-feed!important;
        }
        height: 76px;
        box-shadow: inset 0 -4px 0 $header-main-bar-color;
      }
      &.item-services {
        .cdp {
          color: $brand-primary!important;
        }
        height: 84px;
        box-shadow: inset 0 -4px 0 $brand-primary;
        transition: all .25s ease-in-out;
      }
      &.item-reports {
        .cdp {
          color: $brand-primary!important;
        }
        height: 84px;
        box-shadow: inset 0 -4px 0 $brand-primary;
        transition: all .25s ease-in-out;
      }
      &.item-group {
        .cdp {
          color: $color-group!important;
        }
        box-shadow: inset 0 -4px 0 $color-group;
        transition: all .25s ease-in-out;
      }
      &.item-course {
        .cdp {
          color: $color-course!important;
        }
        box-shadow: inset 0 -4px 0 $color-course;
        transition: all .25s ease-in-out;
      }
      &.item-search {
        box-shadow: inset 0 -4px 0 $header-main-bar-color;
      }
      &.item-notifications {
        .cdp {
          color: $brand-danger!important;
        }
        height: 76px;
        box-shadow: inset 0 -4px 0 $header-main-bar-color;
      }
    }
  }
}

#search-main {
  @include make-xs-column(7);
  @include make-sm-column(4);
  @include make-md-column(3);
  @include make-lg-column(12);
  height: $header-main-height;
  padding-top: 22px;
  .form-group {
    width: 100%;
    .icon-search {
      top: -1.75em;
      right: 0.8em;
      color: $gray-light;
      float: right;
    }
  }
  .search-btn {
    position: relative;
    top: -7px;
    background: darken($gray-lighter, 4%);
    color: $gray-light;
    border-width: 1px;
    border-style: solid;
    border-color: darken($gray-lighter, 4%);
    .icon-search {
      height: 20px;
      top: 3px;
      position: relative;
      color: $brand-primary;
      font-size: 16px;
    }
  }
  .search-input {
    width: 100%;
    padding-right: 30px;
    background: darken($gray-lighter, 4%);
    border-color: darken($gray-lighter, 4%);
    font-size: 11px;
    &::-webkit-input-placeholder { /* WebKit browsers */
      color: lighten($gray, 30%);
    }
    &:-moz-placeholder { /* Mozilla Firefox 4 to 18 */
        color: lighten($gray, 30%);
        opacity:  1;
    }
    &::-moz-placeholder { /* Mozilla Firefox 19+ */
        color: lighten($gray, 30%);
        opacity:  1;
    }
    &:-ms-input-placeholder { /* Internet Explorer 10+ */
        color: lighten($gray, 30%);
    }
  }
}

.login-menu-dropdown {
  @include make-lg-column(1);
  height: $header-main-height;
  padding-right: 0; /* normalize */
  float: right !important;
  #dropdown-login-menu {
    margin-top: $header-main-height * 0.93;
  }
  .navbar-login-button {
    @include make-row;
    cursor: pointer;
    font-weight: bold;
    float: right;
  }
  #menu-user-dropdown {
    list-style: none;
    padding-top: $header-main-height * 0.165;
    .dropdown-menu {
      width: 240px;
      background: #f8f8f8;
    }
  }
  #form-login {
    position: relative;
    top: 5px;
    .input-group {
      width: 218px;
      position: relative;
      left: -13px;
    }
    .checkbox {
      width: 100px;
      font-size: 0.8em;
      line-height: 1.75em;
      float: left;
      padding-top: 0;
      position: relative;
      left: -12px;
      .link {
        position: relative;
        top: -5px;
      }
    }
    .login-btn {
      width: 90px;
      float: right;
      position: relative;
      right: -10px;
      .btn {
        width: 100%;
      }
    }
    .container-button-signin {
      width: 216px;
      clear: both;
      position: relative;
      top: 5px;
      left: -12px;
      .btn {
        width: 100%;
      }
    }
  }
}

.services-menu-dropdown {
  @include make-lg-column(1);
  height: $header-main-height;
  padding-right: 0; /* normalize */
  float: right !important;
  #dropdown-menu-services {
    background: $gray-lighter;
    width: 300px;
    height: 300px;
    margin-top: 18px;
    margin-right: -100px;
  }
  .navbar-login-button {
    @include make-row;
    cursor: pointer;
    font-weight: bold;
    float: right;
  }
  #menu-services-dropdown {
    list-style: none;
    padding-top: $header-main-height * 0.165;
    .dropdown-menu {
      width: 240px;
      background: #f8f8f8;
    }
  }
}


// Media Queries
//
// -------------------------------

// Phones
//
@media (max-width: $screen-xs-max) {
  #header-main {
    height: auto;
    .row, .container {
      margin: 0; padding: 0;
    }
    .header-main-brand {
      .app-main-logo {
        width: $header-main-logo-width - 73;
        .logo-cdp {
          left: -3px;
          position: relative;
          .logo-text {
            display: none;
          }
        }
      }
    }
  }
  #menu-main {
    clear: both;
    margin: 0;
    padding: 0;
    .navbar-menu-item {
      width: 100%;
      padding: 2px 0;
      margin: 0;
      border-bottom: 1px solid lighten($gray-light, 45%);
      .cdp {
        width: 50px;
        margin: 5px 10px;
        text-align: left;
        left: 0;
        display: block;
      }
      .text-menu {
        width: 70%;
        font-size: 1.3em;
        top: 20px;
        left: 55px;
        text-align: left;
      }
    }
  }
  .toggle-button {
    top: 10px;
    right: 50px;
    position: absolute;
  }
  #search-main {
    top: 2px;
    left: 55px;
    position: absolute;
    .search-input {
      font-size: 0.78em;
    }
  }
  .login-menu-dropdown {
    top: 5px;
    right: 15px;
    position: absolute;
  }
  .navbar-collapse {
    border-top: 4px solid $header-main-bar-color;
  }
  .bar-colored {
    display: none;
  }
  .login-menu-dropdown {
    #form-login {
      .input-group {
        left: 2px;
      }
      .checkbox {
        left: 2px;
      }
      .login-btn {
        right: 4px;
      }
      .container-button-signin {
        left: 2px;
      }
    }
  }
}


// Tablets
//
@media (min-width: $screen-sm-min) and (max-width: $screen-sm-max) {
  #header-main {
    .header-main-brand {
      .app-main-logo {
        width: $header-main-logo-width - 73;
        .logo-cdp {
          left: -3px;
          position: relative;
          .logo-text {
            display: none;
          }
        }
      }
    }
  }
  #menu-main {
    .navbar-menu-item {
      margin: auto 5px;
      line-height: 55px;
      &.item-reports,
      &.item-group,
      &.item-course,
      &.item-feed,
      &.item-notifications {
        width: 32px;
      }
      .cdp {
        font-size: 2em;
        top: 29px;
      }
      .text-menu {
        display: none;
      }
    }
  }
  .login-menu-dropdown {
    #form-login {
      .input-group {
        left: -6px;
      }
      .checkbox {
        left: -6px;
      }
      .login-btn {
        right: -3px;
      }
      .container-button-signin {
        left: -6px;
      }
    }
  }
}


// Medium screens
//
@media (min-width: $screen-md-min) and (max-width: $screen-md-max) {
  #menu-main {
    .navbar-menu-item {
      width: 76px;
    }
  }
  #search-main {
    padding-top: 22px;
  }
  .login-menu-dropdown {
    #form-login {
      .input-group {
        left: -8px;
      }
      .checkbox {
        left: -8px;
      }
      .login-btn {
        right: -6px;
      }
      .container-button-signin {
        left: -8px;
      }
    }
  }
}
